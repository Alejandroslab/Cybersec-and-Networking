There are several possible reasons why dig does not work in the local network while outside it works. Some of them are:

The local network has a firewall or a router that blocks or filters DNS traffic on port 53. This may prevent dig from communicating with the external DNS servers that can resolve the domain name. To fix this, you may need to configure the firewall or router to allow DNS traffic, or use a different DNS server that is accessible from the local network1.
The local network has a DNS server that does not have the correct or updated information about the domain name. This may cause dig to return an incorrect or outdated answer, or no answer at all. To fix this, you may need to update the DNS server with the latest zone data, or use a different DNS server that has the correct information2.
The local network has a DNS cache that stores the previous DNS queries and answers. This may cause dig to return a cached answer that is incorrect or outdated, or no answer at all. To fix this, you may need to flush the DNS cache on the local network, or use the +trace option with dig to bypass the cache and query the authoritative DNS servers directly3.
To troubleshoot the problem, you can use dig with different options and parameters to customize your queries and get more information. For example, you can use dig with the @ option to specify the DNS server you want to query, the +trace option to follow the delegation path from the root servers to the authoritative servers, the -type option to specify the type of DNS record you want to see, or the +debug option to see more details about the query and the response. To learn more about dig and how to use it, you can check out these web pages:
